<app-crud></app-crud>
<app-loading [loading]="loading"/>

<div class="marche-list">
      <h2>Elenco delle Caldaie</h2>
      <div *ngFor="let caldaia of caldaieList">
            <mat-card>
              <mat-card-header>
                <mat-card-title>{{ caldaia.nome }}</mat-card-title>
                <mat-card-subtitle>{{ caldaia.id }}</mat-card-subtitle>
              </mat-card-header>
              <mat-card-actions>
                <button mat-raised-button color="primary" (click)="openEditCaldaiaPopup(caldaia)">Modifica</button>
                <button mat-raised-button color="primary" (click)="deleteCaldaia(caldaia.id)">Elimina</button>
              </mat-card-actions>
            </mat-card>
      </div>

     <!-- Bottone per aprire il modulo popup -->
     <button mat-raised-button color="primary" (click)="openAddCaldaiaPopup()">Aggiungi Caldaia</button>

    <div class="popup" *ngIf="showEditPopup">
        <h3>Modifica Caldaia</h3>
        <mat-form-field >
          <mat-label>Nuovo Nome della Caldaia</mat-label>
          <input [(ngModel)]="editCaldaiaNome" matInput placeholder="Ex. Riello">
        </mat-form-field>
        <button mat-raised-button color="primary" (click)="updateCaldaia()">Salva</button>
        <button mat-raised-button color="primary" (click)="closeEditCaldaiaPopup()">Annulla</button>
    </div>

     <div class="popup" *ngIf="showAddPopup">
        <h3>Aggiungi Nuova Caldaia</h3>
        <mat-form-field >
          <mat-label>Nome della Caldaia</mat-label>
          <input [(ngModel)]="newCaldaia" matInput placeholder="Ex. Riello">
        </mat-form-field>
        <button mat-raised-button color="primary" (click)="closeAddCaldaiaPopup()">Annulla</button>
        <button mat-raised-button color="primary" (click)="addCaldaia()">Aggiungi</button>
     </div>
</div>

