<app-crud></app-crud>

<app-loading [loading]="loading"/>

<p-sidebar [(visible)]="viewSidebarVisibile" position="right" styleClass="p-sidebar-lg">
  {{ "Visualizza marca" }}

  <div class="data-box">
    <p>{{ "Id: " + marcaToView?.id }}</p>
    <p>{{ "Nome: " + marcaToView?.nome }}</p>
  </div>
</p-sidebar>

<p-sidebar
  *ngIf="editSidebarVisibile"
  [(visible)]="editSidebarVisibile"
  position="right"
  styleClass="p-sidebar-lg"
>
  <div class="edit-header">
    <h3>{{ "Modifica Marca" }}</h3>
    <p-button
      styleClass="p-button-success"
      label="Salva"
      (onClick)="salvaDati()"
    >

    </p-button>
  </div>
  <div class="data-box">
    <label for="nome">{{ "Nome" }}</label>
    <input
      pInputText
      id="nome"
      [(ngModel)]="marcaToView.nome"
    />
  </div>
</p-sidebar>

<div class="container-list">
  <div class="marche-list">
    <p-table
      [value]="marcheList"
      [paginator]="true"
      [rows]="10"
    >
      <ng-template pTemplate="header">
        <tr>
          <th></th>
          <th class="edit-cell">
          </th>
          <th>
            {{ "Id" }}
          </th>
          <th>
            {{ "Nome" }}
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-rowIndex="rowIndex" let-rowData>
        <tr>
          <td>
            {{ rowIndex }}
          </td>
          <td class="edit-cell">
            <div class="edit-box">
              <p-button
                icon="fa fa-solid fa-eye"
                (onClick)="viewData(rowData)"
              >
              </p-button>
              <p-button
                icon="fa fa-solid fa-pencil"
                (onClick)="editData(rowData)"
              >
              </p-button>
              <p-button
                styleClass="p-button-danger"
                icon="fa fa-solid fa-trash"
              >
              </p-button>
            </div>
          </td>
          <td>
            {{ rowData.id }}
          </td>
          <td>
            {{ rowData.nome }}
          </td>
        </tr>
      </ng-template>

    </p-table>
  </div>
</div>
