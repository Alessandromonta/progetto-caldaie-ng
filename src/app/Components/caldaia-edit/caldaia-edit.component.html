@if (editErroreFlag) {
  <p-dialog
    class="edit-errore"
    [(visible)]="editErroreFlag"
  >
    <app-errore-edit
      [selectedErrore]="erroriSelectedCaldaia[selectedErroreIdx]"
      (emitErrore)="updateErrore($event)"
    >
    </app-errore-edit>
  </p-dialog>
}

<div class="edit-container">
    <div class="edit-header">
        <h3>{{ "Modifica Caldaia" }}</h3>
        <p-button
            styleClass="p-button-success"
            label="Salva"
            [loading]="saving"
            (onClick)="saveOrUpdateData()"
        >
        </p-button>
    </div>
    <div class="edit-data-box">
      <div class="edit-item-box">
          <label for="nome" class="label-item">{{ "Nome" }}</label>
          <input
              pInputText
              id="nome"
              [(ngModel)]="selectedCaldaia.nome"
              class="form-item"
          />
      </div>
      <div class="edit-item-box">
          <label for="descrizione" class="label-item">{{ "Descrizione" }}</label>
          <input
              pInputText
              id="descrizione"
              [(ngModel)]="selectedCaldaia.descrizione"
              class="form-item"
          />
      </div>
    </div>
    <h2 class="errori-caldaia-label">{{ "Errori caldaia" }}</h2>
    <div class="grid-box-layout">
      <div class="grid-col-3">
        <i
          class="fa fa-solid fa-plus add-icon"
          (click)="editErrore()"
        ></i>
      </div>
    </div>
    <div
      *ngFor="let newErrore of newErroriSelectedCaldaia; index as newErrorIdx"
      class="grid-box-layout"
    >
      <div class="grid-col grid-col-1 toggle-error">
        <div class="icon-box">
          <i
            class="pi pi-file-edit"></i>
        </div>
      </div>
      <div class="grid-col grid-col-2">
        <input
          [(ngModel)]="newErrore.codiceErrore"
          class="codice-errore"
          placeholder="Codice errore"
          pInputText
        />
      </div>
      <div class="grid-col grid-col-3">
        <div class="icon-box">
          <i
            class="pi pi-trash delete-trash-icon"
            (click)="newErroriSelectedCaldaia.splice(newErrorIdx, 1)"
          ></i>
        </div>
      </div>
    </div>

    <div
      *ngFor="let errore of erroriSelectedCaldaia; index as errorIdx"
      class="grid-box-layout"
    >
      <div class="grid-col grid-col-1 toggle-error">
        <div class="icon-box">
          <i
            class="pi pi-file-edit edit-icon"
            (click)="editErrore(errorIdx)"
          ></i>
        </div>
      </div>
      <div class="grid-col grid-col-2 codice-errore">
        <label for="errore" class="codice-errore">{{ errore?.codiceErrore }}</label>
      </div>
      <div class="grid-col grid-col-3">
        <div class="icon-box">
          <i
            class="pi pi-trash delete-trash-icon"
            (click)="deleteError(errorIdx)"
          ></i>
        </div>
      </div>
    </div>
</div>
